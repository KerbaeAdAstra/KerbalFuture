PART
{
	name = KF_FusionReactor
	module = Part
	author = the Kerbae ad Astra group

	MODEL
	{
		// TODO
	}

	rescaleFactor = 1
	node_stack_top = //x,y,z,angx,angy,angz,size // FIXME
	node_stack_bottom = //x,y,z,angx,angy,angz,size // FIXME
	TechRequired = // TODO
	entryCost = 112500
	cost = 75000
	Category = Electrical
	subcategory = 0
	title = RAD-X Dual-Mode Fission Reactor
	manufacturer = TNH Rocket Propulsion Inc.
	description = This reactor core is capable of outputting large amounts of power with a supply of fission fuel. Mind the radiation!
	attachRules = 1,0,1,0,0
	mass = // TODO
	dragModelType = default
	maximum_drag = // TODO
	minimum_drag = // TODO
	angularDrag = // TODO
	crashTolerance = // TODO
	maxTemp = // TODO
	bulkheadProfiles = // TODO

	MODULE
	{
		name = ModuleOverheatDisplay
	}

	MODULE
	{
		name = ModuleResourceConverter
		ConverterName = U235 Reactor 
		StartActionName = Start Uranium-235 Reaction 
		StopActionName = Stop Uranium-235 Reaction 
		AutoShutdown = true
		TemperatureModifier
		{
			// TODO
		}

		GeneratesHeat = true
		DefaultShutoffTemp = .8
		ThermalEfficiency
		{
			// TODO
		}

		INPUT_RESOURCE
		{
			ResourceName = U235FuelRods
			Ratio = 0.000046296 // 1 unit per day
			FlowMode = STAGE_PRIORITY_FLOW
		}
		INPUT_RESOURCE
		{
			ResourceName = Neutrons
			Ratio = 1
			FlowMode = STAGE_PRIORITY_FLOW
		}
		OUTPUT_RESOURCE
		{
			ResourceName = DepletedU235FuelRods
			Ratio = 0.000046296 // 1 unit per day
			FlowMode = STAGE_PRIORITY_FLOW
		OUTPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 1501 // Extra is for Reactor Control
			DumpExcess = False
			FlowMode = STAGE_PRIORITY_FLOW
		}
		OUTPUT_RESOURCE
		{
		    ResourceName = Neutrons
		    Ratio = 3
		    FlowMode = STAGE_PRIORITY_FLOW
		}
	}
	
	MODULE
	{
		name = ModuleResourceConverter
		ConverterName = Pu239 Reactor 
		StartActionName = Start Plutonium-239 Reaction 
		StopActionName = Stop Plutonium-239 Reaction 
		AutoShutdown = true
		TemperatureModifier
		{
			// TODO
		}

		GeneratesHeat = true
		DefaultShutoffTemp = .8
		ThermalEfficiency
		{
			// TODO
		}

		INPUT_RESOURCE
		{
			ResourceName = Pu239FuelRods
			Ratio = 0.000046296 // 1 unit per day
			FlowMode = STAGE_PRIORITY_FLOW
		}
		INPUT_RESOURCE
		{
			ResourceName = Neutrons
			Ratio = 1
			FlowMode = STAGE_PRIORITY_FLOW
		}
		OUTPUT_RESOURCE
		{
			ResourceName = DepletedPu239FuelRods
			Ratio = 0.000046296 // 1 unit per day
			FlowMode = STAGE_PRIORITY_FLOW
		}
		OUTPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 1501 // Extra is for Reactor Control
			DumpExcess = False
			FlowMode = STAGE_PRIORITY_FLOW
		}
		OUTPUT_RESOURCE
		{
		    ResourceName = Neutrons
		    Ratio = 3
		    FlowMode = STAGE_PRIORITY_FLOW
		}
	}
	MODULE // Neutron Source for kickstarting the nuclear reaction
	{
		name = ModuleResourceConverter
		ConverterName = Neutron Source
		StartActionName = Start Californium-252 Neutron Capture
		StopActionName = Stop Californium-252 Neutron Capture
		AutoShutdown = true
		TemperatureModifier
		{
			// TODO
		}

		GeneratesHeat = true
		DefaultShutoffTemp = .8
		ThermalEfficiency
		{
			// TODO
		}

		INPUT_RESOURCE
		{
			ResourceName = Californium252
			Ratio = 0.000046296 // 1 unit per day
			FlowMode = STAGE_PRIORITY_FLOW
		}
		OUTPUT_RESOURCE
		{
		    ResourceName = Neutrons
		    Ratio = 1
		    FlowMode = STAGE_PRIORITY_FLOW
		}
	}
	
	MODULE
	{
		name = TweakScale
		type = stack_square
		defaultScale = // TODO - debatable?
	}
	RESOURCE
	{
	    name = Californium252
	    amount = 250
	    maxAmount = 250
	}
}
